---
# Unknown keys
yaml:
  problem_format_version: 2023-07-draft
  mumbo: jumbo
warn: "found unknown problem.yaml key: mumbo in root"
---
yaml:
  problem_format_version: 2023-07-draft
  credits:
    mumbo: jumbo
warn: "found unknown problem.yaml key: mumbo in `credits`"
---
yaml:
  problem_format_version: 2023-07-draft
  limits:
    mumbo: jumbo
warn: "found unknown problem.yaml key: mumbo in `limits`"
---
yaml:
  problem_format_version: 2023-07-draft
  limits:
    time_multipliers:
      mumbo: jumbo
warn: "found unknown problem.yaml key: mumbo in `limits.time_multipliers`"

---
# UUID
yaml:
  problem_format_version: 2023-07-draft
  name: Invalid UUID, too short
  uuid: 12345678-abcd
warn: "invalid uuid: 12345678-abcd"
---
yaml:
  problem_format_version: 2023-07-draft
  name: Invalid UUID, not hexadecimal
  uuid: 12345678-abcd-efgh-ijkl-12345678
warn: "invalid uuid: 12345678-abcd-efgh-ijkl-12345678"

---
# Name
yaml:
  problem_format_version: 2023-07-draft
  name: 42
warn: incompatible value for key 'name' in problem.yaml. SKIPPED.
---
yaml:
  problem_format_version: 2023-07-draft
  name:
    en: 42
warn: incompatible value for key 'en' in problem.yaml. SKIPPED.

---
# Validation/type
yaml:
  problem_format_version: 2023-07-draft
  name: Incorrect validation
  validation: mumbo-jumbo
warn:
  - "key 'validation' is deprecated, use 'type' instead. SKIPPED."
---
yaml:
  problem_format_version: 2023-07-draft
  name: Incorrect type
  type: mumbo-jumbo
fatal: "problem.yaml: unrecognized value for 'type': mumbo-jumbo"
---
yaml:
  problem_format_version: 2023-07-draft
  name: Deprecated validation
  validation: interactive
warn:
  - "key 'validation' is deprecated, use 'type' instead. SKIPPED."
---
yaml:
  problem_format_version: 2023-07-draft
  name: Incorrect type
  type: mumbo jumbo
fatal: "problem.yaml: unrecognized values for 'type': jumbo mumbo"
---
yaml:
  problem_format_version: 2023-07-draft
  name: Incorrect type (list)
  type:
    - mumbo
    - jumbo
fatal: "problem.yaml: unrecognized values for 'type': jumbo mumbo"
---
yaml:
  problem_format_version: 2023-07-draft
  name: Incorrect type (int)
  type:
    mumbo: jumbo
fatal: "problem.yaml: 'type' must be a string or a sequence"
---
yaml:
  problem_format_version: 2023-07-draft
  name: Incorrect type (dict)
  type: 42
fatal: "problem.yaml: 'type' must be a string or a sequence"

---
# Limits
yaml:
  problem_format_version: 2023-07-draft
  name: Negative time limit
  limits:
    time_limit: -1
warn: "value for 'time_limit' in problem.yaml should be > 0 but is -1.0. SKIPPED."
---
yaml:
  problem_format_version: 2023-07-draft
  name: Time multiplier < 1
  limits:
    time_multipliers:
      ac_to_time_limit: 0.9
warn: "value for 'ac_to_time_limit' in problem.yaml should be >= 1 but is 0.9. SKIPPED."
---
yaml:
  problem_format_version: 2023-07-draft
  name: Only one pass for multi-pass
  type: multi-pass
  limits:
    validation_passes: 1
warn: "value for 'validation_passes' in problem.yaml should be >= 2 but is 1. SKIPPED."
---
yaml:
  problem_format_version: 2023-07-draft
  name: Fractional passes for multi-pass
  type: multi-pass
  limits:
    validation_passes: 2.5
warn: "incompatible value for key 'validation_passes' in problem.yaml. SKIPPED."
---
yaml:
  problem_format_version: 2023-07-draft
  name: validation_passes for non-multi-pass problem
  limits:
    validation_passes: 3
warn: "limit: validation_passes is only used for multi-pass problems. SKIPPED."

---
# Empty list
yaml:
  problem_format_version: 2023-07-draft
  name: pass-fail type from empty type
  type: []
warn: "value for 'type' in problem.yaml should not be an empty list."
---
yaml:
  problem_format_version: 2023-07-draft
  name: Empty list
  keywords: []
warn: "value for 'keywords' in problem.yaml should not be an empty list."

---
# Credits
yaml:
  problem_format_version: 2023-07-draft
  name: Cannot specify multiple authors in credits
  credits:
    - name: Alice
    - name: Audrey Authorson
      email: bob@foo.bar
warn: "incompatible value for key 'credits' in problem.yaml. SKIPPED."
---
yaml:
  problem_format_version: 2023-07-draft
  name: Cannot specify multiple authors in credits
  credits:
    authors:
      - name: 42
warn: "incompatible value for key 'name' in problem.yaml. SKIPPED."

---
# Source
yaml:
  problem_format_version: 2023-07-draft
  name: Source must have a name
  source:
    - url: https://2024.nwerc.example/contest
warn: "problem.yaml: 'name' is required in source"

---
# Embargo
yaml:
  problem_format_version: 2023-07-draft
  name: Embargo is not a date
  embargo_until: not a date
warn: "incompatible value for key 'embargo_until' in problem.yaml. SKIPPED."
#---
#yaml:
#  problem_format_version: 2023-07-draft
#  name: Embargo date does not exist
#  embargo_until: 2025-02-29
# Note that this cannot be tested in this way, because the YAML parser already throws an error.
